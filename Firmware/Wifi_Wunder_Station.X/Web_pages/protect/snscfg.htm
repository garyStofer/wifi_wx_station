<!DOCTYPE html>
<html>
<head>
<link href="../styles.css" rel="stylesheet" type="text/css" >
<script src="../ajax.js" type="text/javascript"></script>
<script type="text/javascript">

function updateVaneStatus(xmlData)
{
	document.getElementById('vane_adc').innerHTML = getXMLValue(xmlData, 'va_adc');
	document.getElementById('vane_min').innerHTML = getXMLValue(xmlData, 'va_min');
	document.getElementById('vane_max').innerHTML = getXMLValue(xmlData, 'va_max');
}

setTimeout("newAJAXCommand('vane_stat.xml', updateVaneStatus, true)",100);
</script>



</head>
<body class="inframe" >
	<h3>Sensor Calibration</h3>
	
	<div class="result fail" style="display:~status_fail~">
		<p>Error: ~status_msg~ </p>
		<p>Try again...</p>
	</div>

   <form action ="" method="GET"  name="Calconfig"> <!-- action="" == self posting form -->
		<fieldset>
			<legend>Sensor Calibration:</legend>
			<div><label>Solar Gain:</label><input type="text" name="CALsg" size="4" maxlength="4" value="~CALsg~" /><span style="font-size:x-small"> default is 1000</span></div>
			<div><label>Temperature Offs:</label><input type="text" name="CALto" size="4" maxlength="4" value="~CALto~" /><span style="font-size:x-small"> 0.1 deg. F</span></div>
            <div><label>Hygrometer Offs:</label><input type="text" name="CALho" size="4" maxlength="4" value="~CALho~" /><span style="font-size:x-small"> 0.1%</span></div>
            <div><label>Barometer Offs:</label><input type="text" name="CALbo" size="4" maxlength="4" value="~CALbo~" /><span style="font-size:x-small"> 0.01 inch/Hg</span></div>
			<div><label>Rain Count:</label><input type="text" name="CALra" size="4" maxlength="4" value="~CALra~" /><span style="font-size:x-small"> default is 100 counts per inch</span></div>
			<div><label>Anemometer Cal:</label><input type="text" name="CALwf" size="4" maxlength="4" value="~CALwf~" /><span style="font-size:x-small"> default is 2.25 MPH/revolution/second</span></div>
			<div><label>Anemometer Count:</label><input type="text" name="CALws" size="4" maxlength="4" value="~CALws~" /><span style="font-size:x-small"> default is 7 counts/revolution </span></div>

			<div><label>Wind Vane Offset:</label><input type="text" name="CALwo" size="4" maxlength="4" value="~CALwo~"/></div>
			<div><input type="submit" class="sm" name="_SAV2" value="Save" /></div>
		</fieldset>
	</form>
	<p>To calibrate the wind vane click the CALIBRATE button below. While turning the vane, observe
	 the current reading and find the position where it jumps from minimum to maximum. Slowly move through this point 
	 a couple of times to capture the two end values, then point the vane north and click the SAVE button to store the 
	 readings.  
 
	</p>
	<form action ="" method="GET"  name="windcal"> <!-- action="" == self posting form -->
		<fieldset>
			<legend>Wind Vane Calibration:</legend>
			
			<div>Vane Minimum: <span id="vane_min">?</span></div>
			<div>Vane Current: <span id="vane_adc">?</span></div>
			<div>Vane Maximum: <span id="vane_max">?</span>	</div>
			<br>
		<div>
			<input type="submit" class="sm" name="_CALwd" value="CALIBRATE" />
			<input type="submit" class="sm" name="_CANc" value="Cancel" />
			<input type="submit" class="sm" name="_SAV3" value="SAVE" />
			</div>

		</fieldset>
	</form>
	
</body>
</html>

